# 横版 2D 游戏阵型布局规范

## 🎯 关键概念区分

### 整体左右对抗布局（X 轴方向）

- **玩家方**: 在屏幕左侧
  - 玩家后排: X 坐标最小（屏幕最左）
  - 玩家前排: X 坐标稍大（向右移动，接近敌人）
- **敌人方**: 在屏幕右侧
  - 敌人前排: X 坐标稍大（向左接近玩家）
  - 敌人后排: X 坐标最大（屏幕最右）

### 排内左中右布局（Y 轴方向）

每一排内部的左翼、中路、右翼位置分布：

- **左翼**: Y 坐标较大（屏幕上方）
- **中路**: Y 坐标为 0 或适中（屏幕中间）
- **右翼**: Y 坐标较小（屏幕下方）

## 📐 正确的 spawn 点坐标

### 玩家方（屏幕左侧）

```
前排: X = center.x - battlefieldDepth/2
- 左翼: (X, Y+spacing, 0)
- 中锋: (X+1, Y, 0)        // 楔形突出
- 右翼: (X, Y-spacing, 0)

后排: X = center.x - battlefieldDepth
- 左翼: (X, Y+spacing, 0)
- 中路: (X, Y, 0)
- 右翼: (X, Y-spacing, 0)
```

### 敌人方（屏幕右侧）

```
前排: X = center.x + battlefieldDepth/2
- 左翼: (X, Y+spacing, 0)
- 中锋: (X-1, Y, 0)        // 楔形突出
- 右翼: (X, Y-spacing, 0)

后排: X = center.x + battlefieldDepth
- 左翼: (X, Y+spacing, 0)
- 中路: (X, Y, 0)
- 右翼: (X, Y-spacing, 0)
```

## 🔧 楔形阵突出方向

- **玩家中锋**: 向右突出（X+1），朝向敌人
- **敌人中锋**: 向左突出（X-1），朝向玩家

## ⚠️ 常见错误

1. **混淆两种"左右"概念**: 整体对抗的左右 vs 排内的左中右
2. **Y 轴方向错误**: 忘记左翼在 Y 坐标大的位置，右翼在 Y 坐标小的位置
3. **楔形突出方向错误**: 突出应该朝向对方，不是朝向自己后方

## 🎯 验证方法

生成 spawn 点后检查：

- 玩家后排的 X 坐标 < 玩家前排的 X 坐标 < 敌人前排的 X 坐标 < 敌人后排的 X 坐标
- 每排的左翼 Y 坐标 > 中路 Y 坐标 > 右翼 Y 坐标
- 玩家中锋的 X 坐标应该是玩家方最大的（最接近敌人）
- 敌人中锋的 X 坐标应该是敌人方最小的（最接近玩家）

## 📏 X 轴分布优化 (v2.0)

**问题**: 原有分布过于集中，导致屏幕利用率低、双方距离太近
**解决方案**: 使用 `battlefieldWidth` 替代 `battlefieldDepth` 进行 X 轴布局

### 新的 X 轴公式 (优化版本):

```
玩家后排: X = center.x - 5.0          = -5.0
玩家前排: X = center.x - 3.5          = -3.5
玩家中锋: X = center.x - 3.5 + 1.5    = -2.0

敌人前排: X = center.x + 3.5          = +3.5
敌人中锋: X = center.x + 3.5 - 1.5    = +2.0
敌人后排: X = center.x + 5.0          = +5.0
```

### 布局效果:

- **双方中锋距离**: 4 单位 (2.0 - (-2.0)) - 合理对抗空间
- **阵型总宽度**: 10 单位 (5.0 - (-5.0)) - 平衡屏幕利用与深度
- **前后排深度**: 1.5 单位 (玩家), 1.5 单位 (敌人) - 层次清晰，后排有充足空间
